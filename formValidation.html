<!DOCTYPE html>
         <html lang=’en’>
                 
        <head>
             <meta charset="UTF-8">
             <title>Frequent Flyer</title>
			<link rel="stylesheet" href="formStyle.css">
       </head>

       <body>
	   <p id="error"></p>
	   
	   <img src="airlineLogo1.png" alt="Airline Logo" height = "75" width = "75">
		<form>
			<h1> Frequent Flyer Sign Up</h1>
			<p> Fields marked with an * are required</p>
			
			<fieldset>
				
				<legend><span class="number">1</span>Personal Information</legend>
				
				<!--Salutation -->
				<label for ='salutations'>Salutation</label>
				<input type="radio" name="salutations" id="mr" VALUE="Mr" checked="true"/>Mr
				<input type="radio" name="salutations" id="ms" VALUE="Ms"/>Ms
				<input type="radio" name="salutations" id="dr" VALUE="Dr"/>Dr
				<input type="radio" name="salutations" id="rev" VALUE="Rev"/>Rev
				<input type="radio" name="salutations" id="na" VALUE="N/A"/>N/A
				
				<!--Name -->
				<label for="firstName">First Name*</label>
				<input type="text" name="firstName" id="firstName" placeholder="First Name" size="20" required>
				
				<label for="lastName">Last Name*</label>
				<input type="text" name="lastName" id="lastName" placeholder="Last Name" size="20" required>

				
				<!--Address -->
				<label for ='country'>Country*</label>
				<input type="radio" name="country" id="us" value="USA" checked="true" required>USA
				<input type="radio" name="country" id="ca" value="Canada" required>Canada
				
				<label for="address">Street Address*</label>
				<input type="text" name="address" id="address" placeholder="Address" size="20" required>

				
				<label for="city">City*</label>
				<input type="text" name="city" id="city" placeholder="City" size="20" required>
				
				<!--list taken from https://gist.github.com/bzerangue/3083954 -->
				<label for="state">State*</label>
				<select id="state" name="state" required>
				<option value="">Select One</option>
				<optgroup label="U.S. States/Territories">
					<option value="AK">Alaska</option>
					<option value="AL">Alabama</option>
					<option value="AR">Arkansas</option>
					<option value="AZ">Arizona</option>
					<option value="CA">California</option>
					<option value="CO">Colorado</option>
					<option value="CT">Connecticut</option>
					<option value="DC">District of Columbia</option>
					<option value="DE">Delaware</option>
					<option value="FL">Florida</option>
					<option value="GA">Georgia</option>
					<option value="HI">Hawaii</option>
					<option value="IA">Iowa</option>
					<option value="ID">Idaho</option>
					<option value="IL">Illinois</option>
					<option value="IN">Indiana</option>
					<option value="KS">Kansas</option>
					<option value="KY">Kentucky</option>
					<option value="LA">Louisiana</option>
					<option value="MA">Massachusetts</option>
					<option value="MD">Maryland</option>
					<option value="ME">Maine</option>
					<option value="MI">Michigan</option>
					<option value="MN">Minnesota</option>
					<option value="MO">Missouri</option>
					<option value="MS">Mississippi</option>
					<option value="MT">Montana</option>
					<option value="NC">North Carolina</option>
					<option value="ND">North Dakota</option>
					<option value="NE">Nebraska</option>
					<option value="NH">New Hampshire</option>
					<option value="NJ">New Jersey</option>
					<option value="NM">New Mexico</option>
					<option value="NV">Nevada</option>
					<option value="NY">New York</option>
					<option value="OH">Ohio</option>
					<option value="OK">Oklahoma</option>
					<option value="OR">Oregon</option>
					<option value="PA">Pennsylvania</option>
					<option value="PR">Puerto Rico</option>
					<option value="RI">Rhode Island</option>
					<option value="SC">South Carolina</option>
					<option value="SD">South Dakota</option>
					<option value="TN">Tennessee</option>
					<option value="TX">Texas</option>
					<option value="UT">Utah</option>
					<option value="VA">Virginia</option>
					<option value="VT">Vermont</option>
					<option value="WA">Washington</option>
					<option value="WI">Wisconsin</option>
					<option value="WV">West Virginia</option>
					<option value="WY">Wyoming</option>
				</optgroup>
				<optgroup label="Canadian Provinces">
					<option value="AB">Alberta</option>
					<option value="BC">British Columbia</option>
					<option value="MB">Manitoba</option>
					<option value="NB">New Brunswick</option>
					<option value="NF">Newfoundland</option>
					<option value="NT">Northwest Territories</option>
					<option value="NS">Nova Scotia</option>
					<option value="NU">Nunavut</option>
					<option value="ON">Ontario</option>
					<option value="PE">Prince Edward Island</option>
					<option value="QC">Quebec</option>
					<option value="SK">Saskatchewan</option>
					<option value="YT">Yukon Territory</option>
				</optgroup>
			</select>
			
				<label for="zip">Zip Code*</label>
				<input type="text" name="zipcode" id="zipcode" placeholder="Zip Code" size="20" required>
				
				<!--Birthday -->
				<label for="start">Birthday*</label>
				<input type="date" id="birthday" name="birthday" placeholder="2018-07-22" 
				min="1900-01-01" max="2020-12-31" required>
				
			</fieldset>
			
			
			<fieldset>
				<legend><span class="number">2</span>Account Information</legend>
				
				<!--Email -->
				<label>Email Address*</label>
				<input type="email" name="email" id="email" placeholder="Email" size="20" required>

				<!--Phone Number -->
				<label>Telephone Number 1*</label>
				<input type="tel" name="phone1" id="phone1" placeholder="(xxx)-xxx-xxxx" size="20" required>

				<label>Phone number type:</label>
				<input type="radio" name="phoneType1" id="home1" value="Home" checked>Home
				<input type="radio" name="phoneType1" id="work1" value="Work">Work
				<input type="radio" name="phoneType1" id="cell1" value="Cell"> Cell

				<label>Telephone Number 2</label>
				<input type="tel" name="phone2" placeholder="(xxx)-xxx-xxxx" size="20">

				<label>Phone number type:</label>
				<input type="radio" name="phoneType2" id="home2" value="Home" checked>Home
				<input type="radio" name="phoneType2" id="work2" value="Work">Work
				<input type="radio" name="phoneType2" id="cell2" value="Cell"> Cell

				<!--Password -->
				<label>Password* (8 characters minimum):<label>
				<input type="password" name="pass" id="pass" placeholder="Password" minlength="8" size="20" required>
				<input type="password" name="confirm" id="confirm" placeholder="Confirm Password" required>

			</fieldset>
			
			
			<fieldset>
				<legend><span class="number">3</span>Additional Information</legend>

				<!--Questions -->
				<label>How many tickets do you usually book? </label>
				<input type="tel" name="ticketField" placeholder="Ticket Number" size="20">
				

				<label>Would you like to recieve text messages?</label>
				<input type="radio" name="textButtons" value="Home" checked>Yes
				<input type="radio" name="textButtons" value="Work">No
				

				<label>What class(es) are you interested in?</label>
				<input type="checkbox" name="classButtons" id="classButtons" value="Home">Coach
				<input type="checkbox" name="classButtons" id="classButtons" value="Work">Business
				<input type="checkbox" name="classButtons" id="classButtons" value="Cell">First
				

				<label>Seat Preference</label>
				<input type="checkbox" name="seatButtons" id="seatButtons" value="Home">Middle
				<input type="checkbox" name="seatButtons" id="seatButtons" value="Work">Aisle
				<input type="checkbox" name="seatButtons" id="seatButtons" value="Cell"> Window
				

			</fieldset>
			
			
			<button onclick="validate()">Submit</button>

		</form>
       </body>

      </html>
	  
	  <script>
			function validate(){
				console.log("in the validate function");
				let birthday = document.getElementById("birthday").value;
				let email = document.getElementById("email").value;
				let phone = document.getElementById("phone1").value;
				
				if (!validateAge(birthday)){
					alert("too young");
				}
				if (!validateEmail(email)){
					(alert("invalid email"));
				}
				if (!validatePhone(phone)){
					(alert("invalid phone number"));
				}
			}
			
			function validateAge(birthday){
				let birthdayYear = birthday.slice(0,4);
				let birthdayMonth = birthday.slice(5, 7);
				let birthdayDay = birthday.slice(9, 11);
				
				let d = new Date();
				let month = d.getUTCMonth() + 1;
				let day = d.getUTCDate();
				let year = d.getUTCFullYear() - 18;
				
				if(birthdayYear > year){
					return false;
				}
				else if(birthdayYear == year && birthdayMonth > month && birthdayDay > day){
					return false;
					}
				else{
					return true;
				}
			}
			
			//function taken and modified from: https://www.w3resource.com/javascript/form/email-validation.php
			function validateEmail(email){
				let emailPattern = /^[a-zA-Z0-9.!#$%&'*+\/+?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
				if (emailPattern.test(email)){	
					return (true)
				}
				
				return (false)
			}
				
			//function taken and modified from: https://www.w3resource.com/javascript/form/phone-no-validation.php
			function validatePhone(inputPhone){
				let phoneno = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;
				if(inputPhone.match(phoneno)){
					return true;
				}
				else{
					return false;
				}
			}			
			
	  </script>